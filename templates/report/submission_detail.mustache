{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template plugintype_pluginname/template_name

    Template purpose and description.

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * none

    Example context (json):
    {
    }
}}

<h3>{{#str}}submissiondetail, mod_smartspe{{/str}}</h3>

{{! Student name, group number, and form title }}
<div class="mb-2">
  <strong>{{#str}}studentname, mod_smartspe{{/str}}:</strong> {{header.studentline}}
  <br>
  <strong>{{#str}}form, mod_smartspe{{/str}}:</strong> {{header.formname}}
</div>
<br>
{{! Student detail section }}
{{#hasinfoblock}}
  <div class="card mb-3 font-weight-bold">
    <div class="card-header">
      {{#str}}studentsubmitteddetails, mod_smartspe{{/str}}
    </div>
    <div class="card-body">
      <dl class="row mb-0">
        {{#infoblock}}
          <dt class="col-sm-3 text-muted">{{label}}</dt>
          <dd class="col-sm-3 text-break">{{value}}</dd>
        {{/infoblock}}
      </dl>
    </div>
  </div>
{{/hasinfoblock}}

{{! Self section }}
<h5 class="mt-4">{{#str}}selfevaluation, mod_smartspe{{/str}}</h5>
<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th style="width:6%">#</th>
      <th style="width:44%">{{#str}}question, mod_smartspe{{/str}}</th>
      <th>{{#str}}studentsubmittedresponse, mod_smartspe{{/str}}</th>
    </tr>
  </thead>
  <tbody>
  {{#qrows}}
    <tr>
      <td class="text-muted">{{num}}</td>
      <td>{{question}}</td>
      <td>
        {{#value}}{{value}}{{/value}}
        {{^value}}{{#text}}<em>{{text}}</em>{{/text}}{{/value}}
      </td>
    </tr>
  {{/qrows}}
  </tbody>
</table>

{{! Peer section }}
<h5 class="mt-4">{{#str}}peerevaluation, mod_smartspe{{/str}}</h5>
{{^haspeerblocks}}
  <div class="text-muted">{{#str}}nopeerfeedback, mod_smartspe{{/str}}</div>
{{/haspeerblocks}}

{{#peerblocks}}
  <div class="card mb-3">
    <div class="card-header">
      <strong>{{ratername}}</strong>
    </div>
    <div class="card-body p-0">
      <table class="table table-sm table-bordered mb-0">
        <thead>
        <tr>
          <th style="width:6%">#</th>
          <th style="width:44%">{{#str}}question, mod_smartspe{{/str}}</th>
          <th>{{#str}}studentsubmittedresponse, mod_smartspe{{/str}}</th>
        </tr>
        </thead>
        <tbody>
        {{#qrows}}
          <tr>
            <td class="text-muted">{{num}}</td>
            <td>{{question}}</td>
            <td>
              {{#value}}{{value}}{{/value}}
              {{^value}}{{#text}}<em>{{text}}</em>{{/text}}{{/value}}
            </td>
          </tr>
        {{/qrows}}
        {{^qrows}}
          <tr><td colspan="3" class="text-muted">{{#str}}nosubmissionyet, mod_smartspe{{/str}}</td></tr>
        {{/qrows}}
        </tbody>
      </table>
    </div>
  </div>
{{/peerblocks}}

{{! Session section }}
<h5 class="mt-3">{{#str}}sessions, mod_smartspe{{/str}}</h5>
{{^hassessions}}
  <div class="text-muted">{{#str}}nosessions, mod_smartspe{{/str}}</div>
{{/hassessions}}
{{#hassessions}}
  <table class="table table-sm table-bordered w-auto">
    <thead>
    <tr>
      <th>{{#str}}sessionnum, mod_smartspe{{/str}}</th>
      <th>{{#str}}sessionstart, mod_smartspe{{/str}}</th>
      <th>{{#str}}sessionend, mod_smartspe{{/str}}</th>
      <th>{{#str}}sessionduration, mod_smartspe{{/str}}</th>
    </tr>
    </thead>
    <tbody>
    {{#sessions}}
      <tr>
        <td>{{num}}</td>
        <td>{{start}}</td>
        <td>{{end}}</td>
        <td>{{duration}}</td>
      </tr>
    {{/sessions}}
    </tbody>
  </table>
  <div><strong>{{#str}}totaltimespent, mod_smartspe{{/str}}:</strong> {{totaltime}}</div>
{{/hassessions}}

{{! Back to configuration button }}
<p class="text-center mt-3">
  <a href="{{backurl}}" class="btn btn-secondary">
    {{#str}}backtoconfig, mod_smartspe{{/str}}
  </a>
</p>
